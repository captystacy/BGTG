@model CalendarPlanVM

@{
    ViewData["Title"] = "Календарный план";
}

@section Scripts {
    <script src="~/js/calendar-plan.js"></script>
}

<div class="calendar-plan">
    <form asp-controller="CalendarPlan" asp-action="Index" enctype="multipart/form-data" method="post">
        <div class="choose-estimates mb-3">
            <label for="estimateFiles" class="form-label">Выберите сметы (до 20 мес.)</label>
            <div class="spinner-border spinner-border-sm text-primary" role="status">
                <span class="sr-only"></span>
            </div>
            <input name="estimateFiles" class="form-control" type="file" id="estimate-files" multiple>
        </div>
        <input asp-for="ConstructionDuration" type="hidden" />
        <input asp-for="ConstructionStartDate" type="hidden" />
        <div class="percentages-table">
            <table class="table table-bordered">
                <thead>
                    <tr>
                        <th rowspan="2" scope="col" class="align-middle text-center text-break">Наименование отдельных зданий, сооружений и видов работ</th>
                        <th colspan="20" scope="col" class="align-middle text-center">
                            Распределение капитальных вложений и обьемов  СМР по месяцам строительства, тыс.руб.
                        </th>
                    </tr>
                    <tr id="month-row">
                    </tr>
                </thead>
                <tbody>
                </tbody>
            </table>
            <div class="d-flex justify-content-between">
                <button type="button" class="btn btn-primary" id="calculate-percentages">
                    <div class="calculate-btn-loading">
                        <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
                        Загрузка...
                    </div>
                    <div class="calculate-btn">
                        Рассчитать задел, %
                    </div>
                </button>
                <button type="submit" class="btn btn-primary" id="download-button">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-download" viewBox="0 0 16 16">
                        <path d="M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5z"></path>
                        <path d="M7.646 11.854a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V1.5a.5.5 0 0 0-1 0v8.793L5.354 8.146a.5.5 0 1 0-.708.708l3 3z"></path>
                    </svg>
                    Скачать
                </button>
            </div>
        </div>
    </form>
</div>
